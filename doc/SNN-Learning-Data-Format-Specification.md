# **SNN学習データ形式仕様書**

ドキュメントバージョン: 1.0

作成日: 2025年9月19日

## **1\. はじめに**

### **1.1. 目的**

本仕様書は、本SNNプロジェクトにおける学習データの標準形式を定義するものです。目的は、単純なテキストデータから、対話、指示応答、さらにはマルチモーダルデータまで、多様な学習タスクに柔軟に対応できる一貫したデータ構造を確立することにあります。

### **1.2. 基本方針**

* **ファイル形式**: **JSON Lines (.jsonl)** を標準とします。1行に1つの独立したJSONオブジェクトを記述する形式であり、大規模なデータセットでもメモリ効率良くストリーミング処理が可能です。  
* **文字エンコーディング**: **UTF-8** を使用します。  
* **拡張性**: 将来的な新しいタスクにも対応できるよう、スキーマは柔軟に拡張可能でなければなりません。

## **2\. データ形式スキーマ**

学習タスクの目的に応じて、以下の4つの主要なデータ形式スキーマを定義します。

### **2.1. simple\_text 形式 (基本テキスト)**

* **目的**: 次トークン予測や言語モデルの事前学習など、基本的なテキスト生成タスクに使用します。  
* **説明**: 1つのJSONオブジェクトが、1つの独立したテキストデータを表します。

**フィールド定義:**

| フィールド名 | 型 | 必須 | 説明 |
| :---- | :---- | :---- | :---- |
| text | String | ✅ | 学習対象となる単一のテキスト文章。 |

**例 (data.jsonl):**

{"text": "スパイキングニューラルネットワークは、脳の構造から着想を得ている。"}  
{"text": "イベント駆動型の計算により、エネルギー効率が非常に高い。"}

### **2.2. dialogue 形式 (対話)**

* **目的**: 人間とAI、あるいはAI同士の対話応答を学習する、チャットボットや対話AIモデルの学習に使用します。  
* **説明**: 1つのJSONオブジェクトが、一連の対話（カンバセーション）を表します。対話は、発話者の役割(from)と発話内容(value)のペアからなるリストで構成されます。

**フィールド定義:**

| フィールド名 | 型 | 必須 | 説明 |
| :---- | :---- | :---- | :---- |
| conversations | Array\[Object\] | ✅ | 対話のターンを表すオブジェクトのリスト。 |

|  
L from | String | ✅ | 発話者の役割。"user"、"assistant" などを想定。 |  
| L value | String | ✅ | 発話の具体的なテキスト内容。 |  
**例 (data.jsonl):**

{"conversations": \[{"from": "user", "value": "SNNの最大の利点は何ですか？"}, {"from": "assistant", "value": "エネルギー効率の高さと、時間情報を自然に扱える点です。"}\]}  
{"conversations": \[{"from": "user", "value": "今日の天気を教えて。"}, {"from": "assistant", "value": "東京は晴れです。"}, {"from": "user", "value": "ありがとう。"}\]}

### **2.3. instruction 形式 (指示)**

* **目的**: 指示に従って特定のタスク（要約、翻訳、質問応答など）を実行する、Instruction-Tuning（指示チューニング）に使用します。  
* **説明**: 1つのJSONオブジェクトが、「指示」「入力」「出力」の1セットを表します。タスクによっては「入力」が不要な場合もあります。

**フィールド定義:**

| フィールド名 | 型 | 必須 | 説明 |
| :---- | :---- | :---- | :---- |
| instruction | String | ✅ | モデルに実行させたいタスクの指示内容。 |
| input | String |  | 指示を実行するために必要な文脈や入力データ。不要な場合は省略可能。 |
| output | String | ✅ | 指示に対する理想的な応答（教師データ）。 |

**例 (data.jsonl):**

{"instruction": "以下の文章を要約してください。", "input": "スパイキングニューラルネットワーク（SNN）は、生物の神経系における情報の伝達と処理のメカニズムを模倣したニューラルネットワークの一種である。従来の人工ニューラルネットワーク（ANN）とは異なり、SNNは情報を「スパイク」と呼ばれる離散的なイベントの形で表現し、非同期に処理する。", "output": "SNNは、生物の神経系を模倣し、情報をスパイクとして非同期に処理するニューラルネットワークである。"}  
{"instruction": "日本の首都はどこですか？", "input": "", "output": "日本の首都は東京です。"}

### **2.4. multimodal 形式 (マルチモーダル)**

* **目的**: テキストと他のモダリティ（画像、音声など）を関連付けて学習する、MultimodalSNNのようなモデルの学習に使用します。  
* **説明**: 1つのJSONオブジェクトが、テキストと関連するメディアファイルへのパスをセットで表します。

**フィールド定義:**

| フィールド名 | 型 | 必須 | 説明 |
| :---- | :---- | :---- | :---- |
| text | String | ✅ | メディアファイルの内容を説明するテキスト。 |
| image | String |  | 画像ファイルへの相対パスまたは絶対パス。 |
| audio | String |  | 音声ファイルへの相対パスまたは絶対パス。 |

**例 (data.jsonl):**

{"text": "夕暮れの浜辺を歩く犬の写真。", "image": "images/dog\_beach\_sunset.jpg"}  
{"text": "猫がキーボードの上で寝ている画像です。", "image": "data/images/cat\_on\_keyboard.png"}  
{"text": "電車の発車を知らせるアナウンスの音声。", "audio": "sounds/train\_departure.wav"}

## **3\. 読み込みメカニズム（実装方針）**

学習実行スクリプト (main.py) は、以下のようなコマンドライン引数を受け付けるように拡張されるべきです。

python main.py train path/to/data.jsonl \--data\_format dialogue

* \--data\_format引数（simple\_text, dialogue, instruction, multimodal）に基づいて、スクリプトは内部で適切なパーサーを選択し、本仕様書で定義されたスキーマに従ってデータを解釈・処理します。  
* これにより、単一の学習パイプラインで多様なデータソースと学習タスクをシームレスに扱うことが可能になります。

## **4\. 改訂履歴**

* **v1.0 (2025-09-19):**  
  * 初版作成。  
  * simple\_text, dialogue, instruction, multimodal の4つのスキーマを定義。